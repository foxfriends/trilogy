proc make_iterator!() {
    let mut n = 0

    return do() {
        n += 1
        if n == 5 {
            return 'done
        } else {
            return 'next(n)
        }
    }
}

proc main!() {
    let mut times = 0
    let x in [1, 2, 3, 4, 5]
    times += 1
    if x == 3 { exit times }
    end
}
