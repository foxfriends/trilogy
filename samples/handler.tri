func divBy x 0 = x / yield 'INF
func divBy x "y" = x / yield 'NAN
func divBy x y = x / y

proc main!() {
    let x = with divBy 3 0
        when 'NAN invert { cancel 0 }
        when 'INF invert { cancel resume 1 }
        else yield

    let y = with divBy 4 "y"
        when 'NAN invert { cancel 9 }
        when 'INF invert { cancel resume 2 }
        else yield

    exit x + y
}
