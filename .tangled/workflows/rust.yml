engine: "nixery"

when:
  - event: ["push", "pull_request"]
    branch: "main"

dependencies:
  nixpkgs:
    - "cargo"
    - "llvmPackages_18.clang-unwrapped"
    - "valgrind"

steps:
  - name: "Format"
    command: "cargo fmt -- --check"
  - name: "Clippy"
    command: "cargo clippy -- -D warnings"
  - name: "Test"
    command: "cargo test"
