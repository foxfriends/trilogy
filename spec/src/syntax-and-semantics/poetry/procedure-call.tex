\subsubsection{Procedure Call}

Much like a procedure call in \Prose{}, procedures may be called in \Poetry{}.
Though this sort of breaks the ``pureness'' of \Poetry{}, I think it's also
sort of justifiable if you consider the procedure call to actually be syntax
sugar for a \kw{yield} that corresponds to a handler that calls that procedure
and resumes with the result. Assume that handler is applied automatically by
the procedure's definition. This interpretation of the procedure call allows
for consistency in the lazy evaluation model of \Poetry{}.

There's no need to define the syntax of a procedure call in this situation,
as it is exactly the same as the syntax of a procedure call in \Prose{}
(\S\ref{sec:prose-procedure-call}). The semantics however are slightly
different when called in an expression context, adding the relevance of
the procedure call's returned value. Honestly, the definition earlier
could have just had this type to begin with, and ignored it.

\begin{prooftree}
    \AxiomC{$\Gamma\vdash p\texttt{!}(x_{1\hdots n}):\tau$}
    \AxiomC{$a_i = x_i$}
    \LeftLabel{Procedure Call}
    \BinaryInfC{$\Gamma\vdash p\texttt{!}(a_{1\hdots n}):\tau$}
\end{prooftree}
