import "trilogy:core" as core
import "trilogy:array" as array

export is_empty, chars, join, length, slice

func is_empty "" = true
func is_empty _ = false

func chars str and typeof 'string = core::to_array str

func join _ [] = ""
func join _ [a] = a
func join sep [a, b, ..strs] = $"${a}${sep}${b}${join sep strs}"

func length str and typeof 'string = core::length str

func slice i fin (str and typeof 'string) = str
  |> chars
  |> array::slice i fin
  |> join ""
